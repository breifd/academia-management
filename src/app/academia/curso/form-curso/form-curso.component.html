<div style="max-width: 800px; margin: 20px auto; background-color: #ffffff; border-radius: 10px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15); overflow: hidden; font-family: 'Segoe UI', Arial, sans-serif;">

  <!-- Cabecera del formulario con color más vibrante -->
  <div style="background-color: #1e88e5; color: white; padding: 18px 24px; position: relative;">
    <h2 style="margin: 0; font-size: 22px; font-weight: 500;">{{ getModoTexto() }} Curso</h2>
  </div>

  <!-- Cuerpo del formulario -->
  <div style="padding: 24px;">

    <!-- Mensajes de alerta -->
    <div *ngIf="error" style="background-color: #ffebee; color: #d32f2f; padding: 12px 16px; border-radius: 6px; margin-bottom: 20px; border-left: 4px solid #d32f2f; display: flex; align-items: center;">
      <span style="margin-right: 10px; font-size: 18px;">⚠️</span>
      <span>{{ error }}</span>
    </div>

    <div *ngIf="successMessage" style="background-color: #e8f5e9; color: #2e7d32; padding: 12px 16px; border-radius: 6px; margin-bottom: 20px; border-left: 4px solid #2e7d32; display: flex; align-items: center;">
      <span style="margin-right: 10px; font-size: 18px;">✅</span>
      <span>{{ successMessage }}</span>
    </div>

    <!-- Formulario -->
    <form [formGroup]="cursoForm" (ngSubmit)="guardar()">
      <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 20px;">

        <!-- Nombre -->
        <div style="margin-bottom: 16px;">
          <label for="nombre" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">
            Nombre <span style="color: #e53935;">*</span>
          </label>
          <input
            type="text"
            id="nombre"
            formControlName="nombre"
            style="width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; box-sizing: border-box;"
            [ngStyle]="{'border-color': cursoForm.get('nombre')?.invalid && cursoForm.get('nombre')?.touched ? '#e53935' : '#ddd'}">
          <div *ngIf="cursoForm.get('nombre')?.invalid && cursoForm.get('nombre')?.touched" style="color: #e53935; font-size: 13px; margin-top: 5px;">
            El nombre es obligatorio
          </div>
        </div>

        <!-- Nivel -->
        <div style="margin-bottom: 16px;">
          <label for="nivel" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">
            Nivel
          </label>
          <select
            id="nivel"
            formControlName="nivel"
            style="width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; box-sizing: border-box;">
            <option value="">Seleccione un nivel</option>
            <option *ngFor="let nivel of niveles" [value]="nivel">{{ nivel }}</option>
          </select>
        </div>

        <!-- Precio -->
        <div style="margin-bottom: 16px;">
          <label for="precio" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">
            Precio
          </label>
          <input
            type="number"
            id="precio"
            formControlName="precio"
            style="width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; box-sizing: border-box;"
            [ngStyle]="{'border-color': cursoForm.get('precio')?.invalid && cursoForm.get('precio')?.touched ? '#e53935' : '#ddd'}">
          <div *ngIf="cursoForm.get('precio')?.invalid && cursoForm.get('precio')?.touched" style="color: #e53935; font-size: 13px; margin-top: 5px;">
            El precio debe ser mayor o igual a cero
          </div>
        </div>

        <!-- Descripción (span 2 columnas) -->
        <div style="margin-bottom: 16px; grid-column: span 2;">
          <label for="descripcion" style="display: block; margin-bottom: 8px; font-weight: 500; color: #333;">
            Descripción
          </label>
          <textarea
            id="descripcion"
            formControlName="descripcion"
            rows="4"
            style="width: 100%; padding: 10px 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; box-sizing: border-box; resize: vertical;"
            [ngStyle]="{'border-color': cursoForm.get('descripcion')?.invalid && cursoForm.get('descripcion')?.touched ? '#e53935' : '#ddd'}">
          </textarea>
          <div *ngIf="cursoForm.get('descripcion')?.invalid && cursoForm.get('descripcion')?.touched" style="color: #e53935; font-size: 13px; margin-top: 5px;">
            La descripción no puede exceder los 500 caracteres
          </div>
        </div>
      </div>

      <!-- Botones de acción -->
      <div style="display: flex; justify-content: flex-end; gap: 12px; margin-top: 24px; padding-top: 16px; border-top: 1px solid #eee;">
        <!-- Botón Cancelar -->
        <button
          type="button"
          (click)="cancelar()"
          style="padding: 10px 20px; background-color: #f5f5f5; color: #333; border: none; border-radius: 6px; font-weight: 500; cursor: pointer; min-width: 100px;">
          Cancelar
        </button>

        <!-- Botón Guardar - solo visible en modos editar o crear -->
        <button
          *ngIf="mode === 'edit' || mode === 'crear'"
          type="submit"
          [disabled]="cursoForm.invalid"
          style="padding: 10px 20px; background-color: #1e88e5; color: white; border: none; border-radius: 6px; font-weight: 500; cursor: pointer; min-width: 100px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);"
          [ngStyle]="{'opacity': cursoForm.invalid ? '0.7' : '1', 'cursor': cursoForm.invalid ? 'not-allowed' : 'pointer'}">
          Guardar
        </button>
      </div>
    </form>
  </div>
</div>
